---
title: 浏览器的线程和进程
date: 2019-08-25 21:22:53
categories:
- 技术
tags:
- 读书与学习
- 极客时间
- 浏览器
---

## 线程 VS 进程

仅仅打开了 1 个页面，为什么有 4 个进程？多线程可以并行处理任务，但是**线程是不能单独存在的，它是由进程来启动和管理的**
<!-- more -->
一个进程就是一个程序的运行实例。详细解释就是，启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫**进程**。

![单线程与多线程的进程对比图](https://static001.geekbang.org/resource/image/33/da/3380f0a16c323deda5d3a300804b95da.png)

线程是依附于进程的，而进程中使用多线程并行处理能提升运算效率。


总结来说，进程和线程之间的关系有以下 4 个特点。
1.  进程中的任意一线程执行出错，都会导致整个进程的崩溃。
2.  线程之间共享进程中的数据。
3.  当一个进程关闭之后，操作系统会回收进程所占用的内存。
4.  进程之间的内容相互隔离。


## 仅仅打开了 1 个页面，为什么有 4 个进程？
因为打开 1 个页面至少需要 1 个网络进程、1 个浏览器进程、1 个 GPU 进程以及 1 个渲染进程，共 4 个；如果打开的页面有运行插件的话，还需要再加上 1 个插件进程。

不过凡事都有两面性，虽然多进程模型提升了浏览器的稳定性、流畅性和安全性，但同样不可避免地带来了一些问题：
- **更高的资源占用**。因为每个进程都会包含公共基础结构的副本（如 JavaScript 运行环境），这就意味着浏览器会消耗更多的内存资源。
- **更复杂的体系架构**。浏览器各模块之间耦合性高、扩展性差等问题，会导致现在的架构已经很难适应新的需求了。

全文完。



